<h2 class="bg-white-900  text-4xl tracking-tight font-extrabold text-center  text-black">Mis proyectos</h2>

<div
  id="custom-controls-gallery"
  class="relative w-full bg-white-900 overflow-hidden"
  data-carousel="slide"
>
  <div class="relative overflow-hidden rounded-lg h-32 md:h-48 m-0">
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img
        src="/assets/planet-superheroes.png"
        class="block w-screen h-32 md:h-48 object-cover"
        alt=""
      />
    </div>
    <div class="hidden duration-700 ease-in-out" data-carousel-item="active">
      <img
        src="/assets/desktop.png"
        class="block w-screen h-32 md:h-48 object-cover"
        alt=""
      />
    </div>
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img
        src="/assets/fotoperfil.jpeg"
        class="block w-screen h-32 md:h-48 object-cover"
        alt=""
      />
    </div>
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img
        src="/assets/aceitosos.png"
        class="block w-screen h-32 md:h-48 object-cover"
        alt=""
      />
    </div>
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img
        src="/assets/portfolio.png"
        class="block w-screen h-32 md:h-48 object-cover"
        alt=""
      />
    </div>
  </div>
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute left-2 top-1/2 -translate-y-1/2 pointer-events-auto">
      <button
        type="button"
        class="flex justify-center items-center h-full cursor-pointer group focus:outline-none"
        data-carousel-prev
      >
        <span
          class="text-white hover:text-indigo-400 group-focus:text-gray-900 dark:group-focus:text-white"
        >
          <svg
            class="rtl:rotate-180 w-5 h-5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 14 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 5H1m0 0 4 4M1 5l4-4"
            />
          </svg>
          <span class="sr-only">Previous</span>
        </span>
      </button>
    </div>
    <div class="absolute right-2 top-1/2 -translate-y-1/2 pointer-events-auto">
      <button
        type="button"
        class="flex justify-center items-center h-full cursor-pointer group focus:outline-none"
        data-carousel-next
      >
        <span
          class="text-white hover:text-indigo-400 group-focus:text-gray-900 dark:group-focus:text-white"
        >
          <svg
            class="rtl:rotate-180 w-5 h-5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 14 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M1 5h12m0 0L9 1m4 4L9 9"
            />
          </svg>
          <span class="sr-only">Next</span>
        </span>
      </button>
    </div>
  </div>
</div>

<section class="bg-black text-white justify-evenly ">
  <article *ngFor="let p of projects" class="ml-2 ">
    <h2 class="text-2xl text-center">{{ p.title }}</h2>
    <div class="project-row flex flex-row w-full">
      <div
        class="project-image-container w-1/2"
        (mouseenter)="showOverlay(p.img, '80vw', '80vh')"
        (mouseleave)="hideOverlay()"
      >
        <img [src]="p.img" [alt]="p.title" />
        <button
          class="play-overlay"
          (click)="openVideoModal(p.demoVideo, p.poster)"
          aria-label="Ver demo"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
        </button>
      </div>
      <div class="project-meta flex flex-col items-center text-center m-2 p-1 w-1/2">
        <p>
          {{ p.description }}
          <span *ngIf="p.tech?.length" class="project-tech-inline">— Tecnologías: {{ p.tech.join(', ') }}</span>
        </p>
        <a class="text-center m-2 text-indigo-500" [href]="p.link" target="_blank" rel="noreferrer">Ir al proyecto</a>
      </div>
    </div>
  </article>
</section>


<div
  class="image-overlay"
  *ngIf="overlayVisible && overlayImageSrc"
  (mouseenter)="keepOverlay()"
  (mouseleave)="hideOverlay()"
  [ngStyle]="{ 'max-width': overlayMaxWidth, 'max-height': overlayMaxHeight }"
>
  <img [src]="overlayImageSrc" alt="Foto ampliada del proyecto" />
</div>

<div
  class="video-modal-backdrop"
  *ngIf="modalOpen"
  role="dialog"
  aria-modal="true"
>
  <div class="video-modal" role="document">
    <button
      #modalClose
      class="modal-close"
      (click)="closeModal()"
      aria-label="Cerrar"
    >
      ×
    </button>
    <div class="video-wrapper">
      <video
        *ngIf="modalVideoSrc"
        [src]="modalVideoSrc"
        [poster]="modalPoster"
        controls
        autoplay
        playsinline
      ></video>
    </div>
  </div>
</div>
